<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson_3.1</title>
</head>
<style>
    .description {
        width: 600px;
    }

    .view {
        width: 300px;
    }

    div {
        width: 200px;
    }

    table, th, td {
        padding: 10px;
        border: 1px solid;
        border-collapse: collapse;
    }
</style>
<body>
<h1>Итераторы и генераторы</h1>
<h2>Цикл for-of и введение в понятие итератора</h2>
<table border="1">
    <tr>
        <td class="description">
            <p>Дан массив. Переберите его элементы через for-of, выведите их на экран.</p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Даны абзацы. Получите их через querySelectorAll, переберите через цикл for-of, добавьте каждому абзацу
                в конец текста восклицательный знак.</p>
        </td>
        <td colspan="2" class="view">
            <p class="p_1">text_1</p>
            <p class="p_1">text_2</p>
            <p class="p_1">text_3</p>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан массив. Обратитесь к его элементу с ключом Symbol.iterator и выведите результат в консоль.</p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
</table>
<h2>Введение в функции-генераторы ES6</h2>
<table border="1">
    <tr>
        <td class="description">
            <p>Сделайте функцию-генератор, которая будет возвращать итератор. Первый вызов метода next итератора должен
                вернуть 1, второй вызов - 2, третий вызов - 3.</p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Переберите итератор, полученный в предыдущей задаче через цикл for-of.</p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан массив. С помощью функции-генератора создайте итератор, перебирающий элементы массива по одному.</p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан массив. С помощью функции-генератора создайте итератор, перебирающий элементы массива с конца.</p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан массив. С помощью функции-генератора создайте итератор, каждый вызов которого будет возвращать по
                два элемента массива (сначала первые два, потом вторые два и так далее). Элементы должны возвращаться
                в виде массива из двух элементов.</p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан массив с числами. С помощью функции-генератора создайте итератор, каждый вызов которого будет
                возвращать следующий элемент массива, являющийся четным числом.
            </p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан массив с числами. С помощью функции-генератора создайте итератор, каждый вызов которого будет
                возвращать следующее число Фибоначчи.
            </p>
        </td>
        <td colspan="2" class="view">
        </td>
    </tr>
</table>
<script>
    "use strict";
    let arr = [1, 2, 3, 4, 5];
    for (let el of arr) {
        console.log(el);
    }

    let ps = document.querySelectorAll('p.p_1');
    for (let p of ps) {
        p.textContent += '!';
    }

    console.log(arr[Symbol.iterator]);

    function* createGenerator() {
        yield 1;
        yield 2;
        yield 3;
    }

    for (let el of createGenerator()) {
        console.log(el);
    }

    function* createGeneratorArray(arr) {
        for (let el of arr) {
            yield el;
        }
    }

    for (let el of createGeneratorArray([1, 2, 3, 4, 5])) {
        console.log(el);
    }

    function* createGeneratorArrayReverse(arr) {
        for (let step = arr.length - 1; step >= 0; step--) {
            yield arr[step];
        }
    }

    for (let el of createGeneratorArrayReverse([1, 2, 3])) {
        console.log(el);
    }

    function* createGeneratorArrayDouble(arr) {
        for (let step = 0; step <= arr.length - 2; step++) {
            yield [arr[step], arr[++step]];
        }
    }

    for (let el of createGeneratorArrayDouble([1, 2, 3, 4])) {
        console.log(el);
    }

    function* createGeneratorEven(arr) {
        for (let el of arr) {
            if (el % 2 == 0) {
                yield el;
            }
        }
    }

    for (let el of createGeneratorEven([1, 2, 3, 4])) {
        console.log(el);
    }

    function* createGeneratorFibonacci(arr) {
        for (let step = 1; step < arr.length; step++) {
            yield Number(arr[step - 1]) + Number(arr[step]);
        }
    }

    for (let el of createGeneratorFibonacci([1, 2, 3, 4])) {
        console.log(el);
    }
</script>
</body>
</html>