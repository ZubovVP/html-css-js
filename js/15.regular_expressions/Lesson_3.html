<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson_3(16, 17, 18, 19, 20, 21, 22, 23)</title>
</head>
<body>
<script>
    // "use strict";
    //Начало и конец строки в регулярках JavaScript
    // Дана строка:
    let str = 'abc def xyz';
    // Напишите регулярку, которая найдет первую подстроку из букв.
    console.log(str.replace(/^abc/g, '!'));

    // Дана строка:
    str = 'abc def xyz';
    // Напишите регулярку, которая найдет последнюю подстроку из букв.
    console.log(str.replace(/xyz$/, '!'));

    //Команда 'или' в регулярных выражениях JavaScript
    // Дана строка:
    str = 'aeeea aeea aea axa axxa axxxa awa';
    // Напишите регулярку, которая найдет строки по шаблону: по краям стоят буквы 'a',
    // а между ними - или буква 'e' любое количество раз или буква 'x' любое количество раз.
    console.log(str.replace(/a(e+|x+)a/g, '!'));

    // Дана строка:
    str = 'aeeea aeea aea axa axxa axxxa';
    // Напишите регулярку, которая найдет строки по шаблону: по краям стоят буквы 'a', а между
    // ними - или буква 'e' два раза или буква 'x' любое количество раз.
    console.log(str.replace(/a(e{2}|x+)a/g, '!'));

    //Метод test в регулярных выражениях JavaScript
    //Определите, начинается ли переданная строка с 'http://'.
    console.log(/^http:\/\//.test('http://'));

    // Определите, начинается ли переданная строка с 'http://' или с 'https://'.
    let result = /^http:\/\//.test('https://');
    if (result) {
        console.log('переданная строка начинается на http://');
    } else {
        console.log('переданная строка начинается на https://');
    }

    //Определите, что ли заканчивается переданная строка расширением 'txt', 'html' или 'php'.
    let line = 'doc.php';
    if (/txt$/.test(line)) {
        console.log('переданная строка заканчивается на txt');
    } else if (/html$/.test(line)) {
        console.log('переданная строка заканчивается на html');
    } else {
        console.log('переданная строка заканчивается на php');
    }

    //Определите, что ли заканчивается переданная строка расширением 'jpg' или 'jpeg'.
    line = 'doc.jpeg';
    if (/jpg$/.test(line)) {
        console.log('переданная строка заканчивается на jpg');
    } else {
        console.log('переданная строка заканчивается на jpeg');
    }

    //Определите, является ли строка 'числом, длиной от 1 до 12 цифр'.
    line = 12;
    if (/1-12/.test(line)) {
        console.log('переданная строка в интервале от 1 до 12');
    } else {
        console.log('переданная строка НЕ в интервале от 1 до 12');
    }

    // Определите, является ли переданная строка датой в формате год-месяц-день.
    line = '1999-02-03';
    if (/^\d{4}\-\d{2}\-\d{1,2}$/.test(line)) {
        console.log('Переданная строка является датой в формате год-месяц-день');
    } else {
        console.log('Переданная строка НЕ является датой в формате год-месяц-день');
    }

    // Определите, является ли переданная строка датой в формате день.месяц.год.
    line = '31.02.1999';
    if (/^\d{1,2}\.\d{2}\.\d{1,4}$/.test(line)) {
        console.log('Переданная строка является датой в формате день.месяц.год');
    } else {
        console.log('Переданная строка НЕ является датой в формате день.месяц.год');
    }

    //Определите, является ли переданная строка временем в формате часы:минуты:секунды.
    line = '12:39:48';
    if (/^\d{2}:\d{2}:\d{2}$/.test(line)) {
        console.log('Переданная строка является датой в формате часы:минуты:секунды');
    } else {
        console.log('Переданная строка НЕ является датой в формате часы:минуты:секунды');
    }

    //Определите, является ли переданная строка корректным емэйлом.
    line = 'test@mail.ru';
    if (/^\w+@mail\.ru$/.test(line)) {
        console.log('Переданная строка является корректным емэйлом');
    } else {
        console.log('Переданная строка НЕ является корректным емэйлом');
    }

    //Определите, является ли переданная строка доменным именем.
    line = 'https://google.com';
    if (/^https:\/\/\w+\.com$/.test(line)) {
        console.log('Переданная строка является доменным именем');
    } else {
        console.log('Переданная строка НЕ является доменным именем');
    }

    //Метод match с модификатором g в JavaScript
    // Дана строка:
    str = 'site.ru sss site.com zzz site.net';
    // Получите массив доменных имен из этой строки
    console.log(str.match(/\w+\.\w+/g, '!'));

    // Дана строка:
    str = 'a1b c34d x567z';
    // Найдите сумму всех чисел этой строки.
    let sum = 0;
    for (let elem of str.match(/\d/g, '!')) {
        sum += Number(elem);
    }
    console.log(sum);

    //Карманы в методе match в регулярках JavaScript
    //Карманы для метода match
    // Дана строка, содержащая домен:
    str = 'sss domain.ru zzz';
    // Найдите этот домен и положите его имя в первый карман, а зону - во второй.
    let res = str.match(/(\w+)\.(\w+)/);
    console.log('найденное ' + res[0]);
    console.log('1 карман ' + res[1]);
    console.log('2 карман ' + res[2]);

    // Дана строка, содержащая дату:
         str = '31.12.2025';
    // Положите день в первый карман, месяц - во второй, а год - в третий.
    res = str.match(/(\d+)\.(\d+)\.(\d+)/);
    console.log('найденное ' + res[0]);
    console.log('1 карман ' + res[1]);
    console.log('2 карман ' + res[2]);
    console.log('3 карман ' + res[3]);

    //Карманы в методе replace в регулярках JavaScript
    // Дана строка:
        str = '12 34 56 78';
    // Поменяйте местами цифры во всех двухзначных числах.
    res = str.replace(/(\d)(\d)/g, '$2$1');
    console.log('Поменял цифры местами ' + res);

    // Дана строка с датой:
        str = '31.12.2025';
    // Преобразуйте эту дату в '2025.12.31'.
    res = str.replace(/(\d+)(\.\d+\.)(\d+)/g, '$3$2$1');
    console.log('Преобразуйте эту дату ' + res);

    //Карманы по умолчанию в методе replace в JavaScript
    // Дана строка:
        str = 'a1b2c3';
    // Напишите регулярку, которая рядом с каждой цифрой напишет такую же.
    res = str.replace(/\d/g, '$&$&');
    console.log(res);

    // Дана строка:
        str = 'sss site.ru zzz site.com kkk';
    // Замените домены на ссылки вида: <a href="http://site.ru">site.ru</a>
    res = str.replace(/\w+\.\w{2}/g, '<a href="$&">$&</a>');
    console.log(res);

    // Карманы в самой регулярке в JavaScript
    // Дана строка:
        str = 'aaa bbb ccc xyz';
    // Найдите все подстроки, в которых есть три одинаковые буквы подряд.
     res = str.replace(/([a-z])([a-z])\2/g, '!');
    console.log(res);

    // Дана строка:
        str = 'a aa aaa aaaa aaaaa';
    // Найдите все подстроки, в которых есть две и более одинаковые буквы подряд.
    res = str.replace(/([a-z])+\1/g, 'x');
    console.log(res);

    // Дана строка:
        str = 'aaa aaa bbb bbb ccc ddd';
    // Найдите все подстроки, в которых есть два одинаковых слова подряд.
    res = str.replace(/(\w+) \1/g, 'x');
    console.log(res);
</script>
</body>
</html>