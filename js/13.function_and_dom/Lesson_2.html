<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson_2(297, 298)</title>
</head>
<style>
    .description {
        width: 600px;
    }

    .view {
        width: 300px;
    }

    div {
        width: 200px;
    }

    table, th, td {
        padding: 10px;
        border: 1px solid;
        border-collapse: collapse;
    }
</style>
<body>
<h1>Передача коллбэка для работы с DOM на JavaScript</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Даны абзацы. С помощью созданной нами функции forEach для каждого абзаца добавьте в
                конец его текста восклицательный знак.</p>
        </td>
        <td colspan="2" class="view">
            <div id="parent_1">
                <p class="p_1">1</p>
                <p class="p_1">2</p>
                <p class="p_1">3</p>
                <p class="p_1">4</p>
                <p class="p_1">5</p>
                <p class="p_1">6</p>
            </div>
        </td>
    </tr>
</table>
<h1>Передача порядкового номера в коллбэк на JavaScript</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Даны абзацы. С помощью созданной нами функции forEach_1 для каждого абзаца добавьте ему в
                начало его порядковый номер.</p>
        </td>
        <td colspan="2" class="view">
            <div id="parent_2">
                <p class="p_2">1</p>
                <p class="p_2">2</p>
                <p class="p_2">3</p>
                <p class="p_2">4</p>
                <p class="p_2">5</p>
                <p class="p_2">6</p>
            </div>
        </td>
    </tr>
</table>
<h1>Передача DOM элемента параметром функции</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Сделайте функцию appendText, которая первым параметром будет принимать DOM элемент,
                а вторым - текст. Сделайте так, чтобы данная функция добавляла текст в конец этого
                элемента.</p>
        </td>
        <td colspan="2" class="view">
            <div id="parent_3">
                <p class="p_3">1</p>
                <p class="p_3">2</p>
                <p class="p_3">3</p>
                <p class="p_3">4</p>
                <p class="p_3">5</p>
                <p class="p_3">6</p>
            </div>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Сделайте функцию setValue, которая первым параметром будет принимать ссылку на инпут,
                а вторым - текст. Сделайте так, чтобы данная функция устанавливала переданный текст
                в value инпута.
            </p>
        </td>
        <td colspan="2" class="view">
            <div id="parent_4">
               <input class="inp_4">
                <input class="inp_4">
            </div>
        </td>
    </tr>
</table>
<script>
    "use strict";

    function forEach(selector, func) {
        let elems = document.querySelectorAll(selector);

        for (let elem of elems) {
            func(elem);
        }
    }

    forEach('p.p_1', function (elem) {
        elem.innerHTML += '!';
    });

    function forEach_1(selector, func) {
        let elems = document.querySelectorAll(selector);

        for (let i = 0; i < elems.length; i++) {
            func(elems[i], i);
        }
    }

    forEach_1('p.p_2', function (elem, index) {
        elem.innerHTML = index + elem.innerHTML + index;
    });

    function appendText(dom, text) {
        dom.innerHTML += text;
    }

    for (let p of document.querySelectorAll('p.p_3')) {
        appendText(p, 'text');
    }

    function setValue(inp, text) {
        inp.value = text;
    }
    for (let inp of document.querySelectorAll('input.inp_4')) {
        setValue(inp, 'input');
    }
</script>
</body>
</html>