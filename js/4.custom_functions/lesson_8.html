<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson_8</title>
    <script>
        "use strict";

        // Дана функция getSum, находящая сумму элементов переданного массива:
        function getSum(arr) {
            let sum = 0;

            for (let elem of arr) {
                sum += Number(elem);
            }

            return sum;
        }

        // Дана функция getDigits, возвращающая массив цифр числа:
        function getDigits(num) {
            return String(num).split('');
        }

        // Используя комбинацию приведенных функций найдите сумму цифр числа 12345.
        console.log(getSum(getDigits(12345)));

        // Дано число. Нужно найти его делители (без 1 и самого числа), а затем найти среднее
        // арифметическое (сумма делить на количество) делителей числа и вывести результат на экран.
        // Некий программист уже написал решение задачи:
        // Нахождение среднего арифметического:
        function getAvg(arr) {
            let sum = 0;
            for (let elem of arr) {
                sum += Number(elem);
            }
            return sum / arr.length;
        }

        //  Нахождение массива делителей числа:
        function getDivisors(num) {
            let result = [];

            for (let i = 2; i < num; i++) {
                if (num % i == 0) {
                    result.push(i);
                }
            }
            return result;
        }

        // Программист не тестировал отдельно работу своих функций, а написал весь код сразу и затем
        // запустил его. При запуске оказалось, что код работает неверно.
        //     Найдите и исправьте ошибки программиста. Потестируйте отдельно работу всех функций, чтобы
        //     убедиться, что они работают корректно после ваших правок. После того, как вы убедитесь в корректности работы функций - проверьте полный код решения задачи.
        console.log(getAvg(getDivisors(24)));

        function getDigits_2(num) {
            return String(num).split('');
        }

        function getSum_2(arr) {
            let result = 0;
            for (let el of arr) {
                result += Number(el);
            }
            return result;
        }

        function inRange(num) {
            return num > 1 && num < 9;
        }

        function testMethods(arr) {
            let result = [];
            for (let el of arr) {
                let sumEl = getSum_2( getDigits_2(el));
                if (inRange(sumEl)) {
                    result.push(el);
                }
            }
            return result;
        }
        let arr = [12, 14, 15, 19, 99, 11, 10];
        console.log(testMethods(arr));
    </script>
</head>
<body>

</body>
</html>