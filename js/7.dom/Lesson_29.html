<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson_29(211)</title>
</head>
<style>
    .description {
        width: 600px;
    }
</style>
<body>
<h1>Отработка изученного материала на работу с DOM (часть 2)</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Дан инпут. В него вводится дата в формате 31.12.2016. По потери фокуса в этом же инпуте поставьте эту дату в формате 2016-12-31.</p>
        </td>
        <td width="200px" colspan="2">
            <input id="inp_1">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан инпут. В него вводится слово. По нажатию на кнопку проверьте то, что это слово читается с начала и с конца одинаково (например, мадам).</p>
        </td>
        <td width="200px">
            <input id="inp_2">
        </td>
        <td>
            <button id="but_2">click</button>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан инпут. В него вводится число. Проверьте по потери фокуса, что это число содержит внутри себя цифру 3.</p>
        </td>
        <td width="200px" colspan="2">
            <input id="inp_3">
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Даны несколько абзацев и кнопка. По нажатию на кнопку запишите в конец каждого абзаца его порядковый номер.</p>
        </td>
        <td width="200px">
            <p class="p_4">Абзац</p>
            <p class="p_4">Абзац</p>
            <p class="p_4">Абзац</p>
        </td>
        <td>
            <button id="but_4">click</button>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Даны ссылки. Добавьте в конец каждой ссылки ее href в круглых скобках.</p>
        </td>
        <td width="200px" colspan="2">
            <a href="https://yandex.ru" class="link_5">ссылка_1</a>
            <a href="https://google.com" class="link_5">ссылка_2</a>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Даны ссылки. Если ссылка начинается с http://, то добавьте ей в конец стрелку → (делается так: &rarr;).</p>
        </td>
        <td width="200px" colspan="2">
            <a href="https://yandex.ru" class="link_6">ссылка_1</a>
            <br>
            <a href="http://google.com" class="link_6">ссылка_2</a>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Даны несколько абзацев с числами. По нажатию на любой абзац запишите в него квадрат числа, которое в нем находится.</p>
        </td>
        <td width="200px" colspan="2">
            <p class="p_7"> 1 </p>
            <p class="p_7"> 2 </p>
            <p class="p_7"> 3 </p>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Дан инпут. В него вводится дата в формате 31.12.2016. По потери фокуса узнайте день недели (словом), который приходится на эту дату.</p>
        </td>
        <td width="200px" colspan="2">
           <input id="inp_8">
        </td>
    </tr>
</table>
<script>
    "use strict";
    // Дан инпут и абзац. По потери фокуса в инпуте запишите значение инпута в конец текста абзаца.
    document.querySelector('#inp_1').addEventListener('blur', function () {
        this.value = this.value.split('.').reverse().join('-');
    });

    // Дан инпут. В него вводится слово. По нажатию на кнопку проверьте то, что это слово читается с
    // начала и с конца одинаково (например, мадам).
    document.querySelector('#but_2').addEventListener('click', function () {
        let word = document.querySelector('#inp_2').value.split('');
        let midddle = word.length % 2 == 0 ? word.length / 2 : (word.length - 1) / 2;
        let result = true;
        for(let x = 0; x < midddle; x++){
            if(word[x] != word[length - x]){
                result = false;
                break;
            }
        }
        result == true ? alert('cлово читается одинаково') : alert('cлово НЕ читается одинаково');
    });

    // Дан инпут. В него вводится число. Проверьте по потери фокуса, что это число содержит внутри
    // себя цифру 3.
    document.querySelector('#inp_3').addEventListener('blur', function () {
        let numbers = this.value.split('');
        for(let number of numbers){
            if(number == 3){
                alert('число содержит 3');
                return;
            }
        }
        alert('число НЕ содержит 3');
    });

    // Даны несколько абзацев и кнопка. По нажатию на кнопку запишите в конец каждого абзаца его
    // порядковый номер.
    document.querySelector('#but_4').addEventListener('click', function () {
        let inps = document.querySelectorAll('.p_4');
        for(let x = 0; x < inps.length; x++){
            inps[x].textContent += (' ' + (x + 1));
        }
    });

    // Даны ссылки. Добавьте в конец каждой ссылки ее href в круглых скобках.
    for(let link of document.querySelectorAll('.link_5')){
        link.textContent += (' ( ' + link.href + ' )');
    }

    // Даны ссылки. Если ссылка начинается с http://, то добавьте ей в конец стрелку → (делается так:
    // &rarr;).
    for(let link of document.querySelectorAll('.link_6')){
        if(link.href.substring(0, 7) == 'http://'){
            link.textContent += '\u2192';
        }
    }

    // Даны несколько абзацев с числами. По нажатию на любой абзац запишите в него квадрат числа,
    // которое в нем находится.
    for(let p of document.querySelectorAll('.p_7')){
        p.addEventListener('click', function (){
           p.textContent = Math.pow(p.textContent, 2);
        });
    }

    // Дан инпут. В него вводится дата в формате 31.12.2016. По потери фокуса узнайте день недели
    // (словом), который приходится на эту дату.
    document.querySelector('#inp_8').addEventListener('blur', function (){
        let date = this.value;

    })



</script>
</body>
</html>