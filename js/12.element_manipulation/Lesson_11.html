<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson_11(286, 287)</title>
</head>
<style>
    .description {
        width: 600px;
    }

    div {
        width: 200px;
        height: 200px;
    }

    table, th, td {
        padding: 10px;
        border: 1px solid;
        border-collapse: collapse;
    }

    .hidden {
        display: none;
    }
</style>
<body>
<h1>Кнопки для скрытия и показа элемента на JavaScript</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы была только одна кнопка. Пусть по первому клику на
                эту кнопку элемент показывается, а по второму - скрывается.</p>
        </td>
        <td colspan="2">
            <p id="elem">text</p>
            <input type="submit" id="hide" value="hide">
        </td>
    </tr>
</table>
<h1>Много элементов с кнопками показа на JavaScript</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы по клику на кнопку скрывался или показывался соответствующий ей
                абзац.</p>
        </td>
        <td colspan="2">
            <div id="parent_1">
                <p id="p_1">1</p>
                <button data-p="p_1">toggle</button>
                <p id="p_2">2</p>
                <button data-p="p_2">toggle</button>
                <p id="p_3">3</p>
                <button data-p="p_3">toggle</button>
            </div>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы по клику на кнопку скрывался или показывался соответствующий ей
                абзац. (второе решение)</p>
        </td>
        <td colspan="2">
            <div id="parent_2">
                <p>1</p>
                <button>toggle</button>
                <p>2</p>
                <button>toggle</button>
                <p>3</p>
                <button>toggle</button>
            </div>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы по клику на кнопку скрывался или показывался соответствующий ей
                абзац. (третье решение)</p>
        </td>
        <td colspan="2">
            <div id="parent_3">
                <p>1</p>
                <button>toggle</button>
                <p>2</p>
                <button>toggle</button>
                <p>3</p>
                <button>toggle</button>
            </div>
        </td>
    </tr>
</table>
<script>
    "use strict";
    let elem = document.querySelector('#elem');
    let hide = document.querySelector('#hide');
    hide.addEventListener('click', () => {
        elem.classList.toggle('hidden');
    });

    //первое решение
    let buttons = document.querySelectorAll('#parent_1 button');
    for (let b of buttons) {
        b.addEventListener('click', () => {
            let p = document.querySelector('#' + b.dataset.p);
            p.classList.toggle('hidden');
        });
    }

    //Второе решение
    buttons = document.querySelectorAll('#parent_2 button');
    let ps = document.querySelectorAll('#parent_2 p');
    for (let x = 0; x < buttons.length; x++) {
        buttons[x].addEventListener('click', () => {
            ps[x].classList.toggle('hidden');
        });
    }

    //Третье решение
    buttons = document.querySelectorAll('#parent_3 button');
    for (let b of buttons) {
        b.addEventListener('click', () => {
            b.previousElementSibling.classList.toggle('hidden');
        });
    }
</script>
</body>
</html>