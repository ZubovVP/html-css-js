<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson_11(286, 287, 288, 289)</title>
</head>
<style>
    .description {
        width: 600px;
    }

    div {
        width: 200px;
        height: 200px;
    }

    table, th, td {
        padding: 10px;
        border: 1px solid;
        border-collapse: collapse;
    }

    .hidden {
        display: none;
    }

    .active {
        background: red;
    }

    .color1 {
        background: red;
    }

    .color2 {
        background: green;
    }

    .color3 {
        background: yellow;
    }
</style>
<body>
<h1>Кнопки для скрытия и показа элемента на JavaScript</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы была только одна кнопка. Пусть по первому клику на
                эту кнопку элемент показывается, а по второму - скрывается.</p>
        </td>
        <td colspan="2">
            <p id="elem">text</p>
            <input type="submit" id="hide" value="hide">
        </td>
    </tr>
</table>
<h1>Много элементов с кнопками показа на JavaScript</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы по клику на кнопку скрывался или показывался соответствующий ей
                абзац.</p>
        </td>
        <td colspan="2">
            <div id="parent_1">
                <p id="p_1">1</p>
                <button data-p="p_1">toggle</button>
                <p id="p_2">2</p>
                <button data-p="p_2">toggle</button>
                <p id="p_3">3</p>
                <button data-p="p_3">toggle</button>
            </div>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы по клику на кнопку скрывался или показывался соответствующий ей
                абзац. (второе решение)</p>
        </td>
        <td colspan="2">
            <div id="parent_2">
                <p>1</p>
                <button>toggle</button>
                <p>2</p>
                <button>toggle</button>
                <p>3</p>
                <button>toggle</button>
            </div>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы по клику на кнопку скрывался или показывался соответствующий ей
                абзац. (третье решение)</p>
        </td>
        <td colspan="2">
            <div id="parent_3">
                <p>1</p>
                <button>toggle</button>
                <p>2</p>
                <button>toggle</button>
                <p>3</p>
                <button>toggle</button>
            </div>
        </td>
    </tr>
</table>
<h1>Активация элементов на JavaScript</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Дана HTML список ul. Сделайте так, чтобы по нажатию на любой пункт списка он активировался красным
                фоном.</p>
        </td>
        <td colspan="2">
            <ul id="ul_4">
                <li>text_1</li>
                <li>text_2</li>
                <li>text_3</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Модифицируйте предыдущую задачу так, чтобы по нажатию на активированный пункт списка
                активация с него снималась.</p>
        </td>
        <td colspan="2">
            <ul id="ul_5">
                <li>text_1</li>
                <li>text_2</li>
                <li>text_3</li>
            </ul>
        </td>
    </tr>
</table>
<h1>Чередование стилей активации на JavaScript</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы происходило чередование цветов: пусть первая ячейка красится в красный, вторая - в
                зеленый, третья - опять в красный и так далее.</p>
        </td>
        <td colspan="2">
            <table id="table_6">
                <tr>
                    <td>1</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>6</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы происходило чередование цветов: пусть первая ячейка красится в красный, вторая - в
                зеленый, третья - опять в красный, а третья в жёлтый</p>
        </td>
        <td colspan="2">
            <table id="table_7">
                <tr>
                    <td>1</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>6</td>
                </tr>
            </table>
        </td>
    </tr>
</table>
<h1>Активация ограниченного количества элементов</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Сделайте так, чтобы в одном ряду таблице можно было активировать не более 5-ти ячеек.</p>
        </td>
        <td colspan="2">
            <table id="table_8">
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                </tr>
            </table>
        </td>
    </tr>
</table>
<script>
    "use strict";
    let elem = document.querySelector('#elem');
    let hide = document.querySelector('#hide');
    hide.addEventListener('click', () => {
        elem.classList.toggle('hidden');
    });

    //первое решение
    let buttons = document.querySelectorAll('#parent_1 button');
    for (let b of buttons) {
        b.addEventListener('click', () => {
            let p = document.querySelector('#' + b.dataset.p);
            p.classList.toggle('hidden');
        });
    }

    //Второе решение
    buttons = document.querySelectorAll('#parent_2 button');
    let ps = document.querySelectorAll('#parent_2 p');
    for (let x = 0; x < buttons.length; x++) {
        buttons[x].addEventListener('click', () => {
            ps[x].classList.toggle('hidden');
        });
    }

    //Третье решение
    buttons = document.querySelectorAll('#parent_3 button');
    for (let b of buttons) {
        b.addEventListener('click', () => {
            b.previousElementSibling.classList.toggle('hidden');
        });
    }

    let lis = document.querySelectorAll('#ul_4 li');
    for (let li of lis) {
        li.addEventListener('click', () => {
            li.classList.add('active');
        });
    }

    lis = document.querySelectorAll('#ul_5 li');
    for (let li of lis) {
        li.addEventListener('click', () => {
            li.classList.toggle('active');
        });
    }

    let color = 'color1';
    let tds = document.querySelectorAll('#table_6 td');
    for (let li of tds) {
        li.addEventListener('click', () => {
            if (color == 'color1') {
                color = 'color2'
            } else {
                color = 'color1'
            }
            li.classList.add(color);
        });
    }

    let colors = ['color1', 'color2', 'color3'];
    let counter = 0;
    tds = document.querySelectorAll('#table_7 td');
    for (let li of tds) {
        li.addEventListener('click', () => {

            if (counter == colors.length) {
                counter = 0;
            }
            li.classList.add(colors[counter++]);
        });
    }

    let trs = document.querySelectorAll('#table_8 tr');

    for (let tr of trs) {
        for(let td of tr.querySelectorAll('td')) {
            td.addEventListener('click', function() {
                let activeTds = document.querySelectorAll('#table_8 td.active');
                if (activeTds.length < 4) {
                    this.classList.add('active');
                }
            });
        }
    }
</script>
</body>
</html>