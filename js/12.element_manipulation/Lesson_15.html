<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson_14(291)</title>
</head>
<style>
    .description {
        width: 600px;
    }

    .view {
        width: 300px;
    }

    div {
        width: 200px;
    }

    table, th, td {
        padding: 10px;
        border: 1px solid;
        border-collapse: collapse;
    }

    .color {
        border-color: red;
    }

</style>
<body>
<h1>Поиск ячеек таблицы с помощью атрибута data</h1>
<table border="1">
    <tr>
        <td class="description">
            <p>Дана следующая HTML таблица. Сделайте так, чтобы по клику на любую ячейку в красный фон красились все
                ячейки этой колонки.</p>
        </td>
        <td colspan="2" class="view">
            <div id="parent_1">
                <table id="table_1">
                    <tr>
                        <td data-col="1"></td>
                        <td data-col="2"></td>
                        <td data-col="3"></td>
                    </tr>
                    <tr>
                        <td data-col="1"></td>
                        <td data-col="2"></td>
                        <td data-col="3"></td>
                    </tr>
                    <tr>
                        <td data-col="1"></td>
                        <td data-col="2"></td>
                        <td data-col="3"></td>
                    </tr>
                </table>
            </div>
        </td>
    </tr>
    <tr>
        <td class="description">
            <p>Даны также две переменные, в которых хранятся номер колонки и номер ряда.
                Сделайте кнопку, по нажатию на которую в красный фон покрасится та ячейка,
                номер которой совпадает с номером из переменных.</p>
        </td>
        <td colspan="2" class="view">
            <div id="parent_2">
                <table id="table_2">
                    <tr>
                        <td data-row="1" data-col="1"></td>
                        <td data-row="1" data-col="2"></td>
                        <td data-row="1" data-col="3"></td>
                    </tr>
                    <tr>
                        <td data-row="2" data-col="1"></td>
                        <td data-row="2" data-col="2"></td>
                        <td data-row="2" data-col="3"></td>
                    </tr>
                    <tr>
                        <td data-row="3" data-col="1"></td>
                        <td data-row="3" data-col="2"></td>
                        <td data-row="3" data-col="3"></td>
                    </tr>
                </table>
                <button id="but_2">click</button>
            </div>
        </td>
    </tr>
</table>
<script>
    "use strict";
    for (let td of document.querySelectorAll('#table_1 td')) {
        td.addEventListener('click', () => {
            let date = td.dataset.col;
            document.querySelectorAll('#table_1 td[data-col="' + date + '"]').forEach(el => el.classList.toggle('color'));
        });
    }

    let col = 2;
    let row = 3;
    let but_2 = document.querySelector('#but_2');
    but_2.addEventListener('click', () => {
        let td = document.querySelector('#table_2 td[data-row="' + row + '"]' +'[data-col="' + col + '"]');
        td.classList.toggle('color');
    });
</script>
</body>
</html>